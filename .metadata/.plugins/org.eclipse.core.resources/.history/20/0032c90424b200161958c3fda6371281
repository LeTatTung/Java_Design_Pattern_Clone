package com.letattung.caching;

import java.text.ParseException;

public final class AppManager {

	private static CachingPolicy cachingPolicy;
	/*
	 * Developer/Tester is able to choose whether the application should use MongoDB as its underlying
	 * data storage or a simple Java data structure to (temporarily) store the data/objects during runtime
	 */
	public static void intDb(boolean useMongo){
		if(useMongo){
			try{
			DbManager.connect();	
			}catch(ParseException e){
				e.printStackTrace();
			}
		}else{
			DbManager.createVitualDb();
		}
	}
	public static void initCachingPolicy(CachingPolicy policy){
		cachingPolicy = policy;
		if(cachingPolicy == CachingPolicy.BEHIND){
			Runtime.getRuntime().addShutdownHook(new Thread(CacheStore::flushCache));
		}
	}
	
	
}
